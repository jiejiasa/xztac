(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87bece60"],{1:function(e,t){},1053:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","header-cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"auto"}}),a("el-table-column",{attrs:{prop:"region",label:"地区",width:"auto"}}),a("el-table-column",{attrs:{prop:"businessType",label:"业务类型",width:"auto"}}),a("el-table-column",{attrs:{prop:"licensPlateNumber",label:"车牌号",width:"auto"}}),a("el-table-column",{attrs:{prop:"inboundDate",label:"入库日期",width:"auto"}}),a("el-table-column",{attrs:{prop:"clearanceTeam",label:"清收团队",width:"auto"}}),a("el-table-column",{attrs:{prop:"pickUpFee",label:"清收费用",width:"auto"}}),a("el-table-column",{attrs:{prop:"settleStatus",label:"是否支付",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.settleStatus?a("span",[e._v("未支付")]):e._e(),1===t.row.settleStatus?a("span",[e._v("已支付")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("span",[e._v("在库")]):e._e(),1===t.row.status?a("span",[e._v("审核中")]):e._e(),2===t.row.status?a("span",[e._v("审核未通过")]):e._e(),3===t.row.status?a("span",[e._v("出库")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"creatorId",label:"入库人名称",width:"auto"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.getGoOut(t.row)}}},[e._v("审核")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getInList}}),a("el-dialog",{attrs:{title:e.auditForm.title,visible:e.auditForm.outing,width:"1200px","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.auditForm,"outing",t)}}},[a("el-form",{ref:"auditForm",attrs:{model:e.auditForm,rules:e.rules,"label-width":"auto"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户名称:",prop:"customerName"}},[a("el-input",{attrs:{placeholder:"客户名称",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.customerName,callback:function(t){e.$set(e.auditForm.inventoryManagement,"customerName",t)},expression:"auditForm.inventoryManagement.customerName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地区:",prop:"region"}},[a("el-input",{attrs:{placeholder:"地区",value:"ajkdsfhk",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.region,callback:function(t){e.$set(e.auditForm.inventoryManagement,"region",t)},expression:"auditForm.inventoryManagement.region"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"业务类型:",prop:"businessType"}},[a("el-input",{attrs:{placeholder:"业务类型",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.businessType,callback:function(t){e.$set(e.auditForm.inventoryManagement,"businessType",t)},expression:"auditForm.inventoryManagement.businessType"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车牌号:",prop:"licensPlateNumber"}},[a("el-input",{attrs:{placeholder:"车牌号",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.licensPlateNumber,callback:function(t){e.$set(e.auditForm.inventoryManagement,"licensPlateNumber",t)},expression:"auditForm.inventoryManagement.licensPlateNumber"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"入库日期:",prop:"inboundDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"date",disabled:!0,placeholder:"选择日期","picker-options":e.pickerOptions},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.inboundDate,callback:function(t){e.$set(e.auditForm.inventoryManagement,"inboundDate",t)},expression:"auditForm.inventoryManagement.inboundDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"品牌型号:",prop:"makeAndModel"}},[a("el-input",{attrs:{placeholder:"品牌型号",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.makeAndModel,callback:function(t){e.$set(e.auditForm.inventoryManagement,"makeAndModel",t)},expression:"auditForm.inventoryManagement.makeAndModel"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"停放车库:",prop:"parkingGarage"}},[a("el-cascader",{attrs:{options:e.garageList,props:e.props,"show-all-levels":!1,disabled:!0},on:{change:e.handleChange},model:{value:e.auditForm.inventoryManagement.parkingGarage,callback:function(t){e.$set(e.auditForm.inventoryManagement,"parkingGarage",t)},expression:"auditForm.inventoryManagement.parkingGarage"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"清收团队:",prop:"clearanceTeam"}},[a("el-input",{attrs:{placeholder:"清收团队",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.clearanceTeam,callback:function(t){e.$set(e.auditForm.inventoryManagement,"clearanceTeam",t)},expression:"auditForm.inventoryManagement.clearanceTeam"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"清收费用:",prop:"pickUpFee"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^0-9.]/g,'')",placeholder:"清收费用",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.pickUpFee,callback:function(t){e.$set(e.auditForm.inventoryManagement,"pickUpFee",t)},expression:"auditForm.inventoryManagement.pickUpFee"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否支付:",prop:"settleStatus"}},[[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.auditForm.inventoryManagement.settleStatus,callback:function(t){e.$set(e.auditForm.inventoryManagement,"settleStatus",t)},expression:"auditForm.inventoryManagement.settleStatus"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]],2)],1)],1),a("el-form-item",{attrs:{label:"备注:",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"备注",maxlength:"300",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.inventoryManagement.remark,callback:function(t){e.$set(e.auditForm.inventoryManagement,"remark",t)},expression:"auditForm.inventoryManagement.remark"}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出库原因:",prop:"outboundReason"}},[a("el-input",{attrs:{placeholder:"出库原因",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.outboundReason,callback:function(t){e.$set(e.auditForm,"outboundReason",t)},expression:"auditForm.outboundReason"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"停车费用:",prop:"parkingFees"}},[a("el-input",{attrs:{placeholder:"停车费用",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.parkingFees,callback:function(t){e.$set(e.auditForm,"parkingFees",t)},expression:"auditForm.parkingFees"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出库日期:",prop:"outDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"date",disabled:!0,placeholder:"选择日期","picker-options":e.pickerOptions},on:{input:e.changeSequence},model:{value:e.auditForm.outDate,callback:function(t){e.$set(e.auditForm,"outDate",t)},expression:"auditForm.outDate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否已付:",prop:"paid"}},[[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.auditForm.paid,callback:function(t){e.$set(e.auditForm,"paid",t)},expression:"auditForm.paid"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]],2)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车辆接收人:",prop:"vehicleRecipient"}},[a("el-input",{attrs:{placeholder:"车辆接收人",maxlength:"50",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.vehicleRecipient,callback:function(t){e.$set(e.auditForm,"vehicleRecipient",t)},expression:"auditForm.vehicleRecipient"}})],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"备注:",prop:"outRemark"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"备注",maxlength:"300",disabled:!0},on:{input:e.changeSequence},model:{value:e.auditForm.outRemark,callback:function(t){e.$set(e.auditForm,"outRemark",t)},expression:"auditForm.outRemark"}})],1)],1),a("el-form-item",{attrs:{label:"审批意见",prop:"passed"}},[a("el-select",{attrs:{placeholder:"请选择审批意见"},on:{input:e.changeSequence},model:{value:e.auditForm.passed,callback:function(t){e.$set(e.auditForm,"passed",t)},expression:"auditForm.passed"}},[a("el-option",{attrs:{label:"同意",value:!0}}),a("el-option",{attrs:{label:"拒绝",value:!1}})],1)],1),a("el-form-item",{attrs:{label:"批注",prop:"info"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入批注"},on:{input:e.changeSequence},model:{value:e.auditForm.info,callback:function(t){e.$set(e.auditForm,"info",t)},expression:"auditForm.info"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handle}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],r=a("b775");a("0b16");function i(){return Object(r["a"])({url:"/inventoryFlow/ToDoInventory",method:"get"})}function l(e){return Object(r["a"])({url:"/inventoryFlow/handle",method:"post",data:e})}var u=a("ad81"),s=(a("542c"),a("4715")),d={name:"Dept",data:function(){return{loading:!0,list:[],title:"",isExpandAll:!0,refreshTable:!0,queryParams:{pageNum:1,pageSize:10},form:{},total:0,rules:{passed:[{required:!0,message:"请选择审批意见",trigger:"change"}],info:[{required:!0,message:"请输入批注",trigger:"blur"}]},props:{label:"garageTypeOrName",value:"id",children:"chileds",emitPath:!1},options:[{value:0,label:"未支付"},{value:1,label:"已支付"}],normals:[{value:0,label:"正常"},{value:1,label:"异常"},{value:2,label:"未知"}],garageList:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},auditForm:{title:"发起审核",outing:!1,inventoryManagement:{},firstPeople:[],twoPeople:[],id:void 0,ooutInventory:{},firstPeopleId:void 0,settleStatus:void 0,outboundReason:void 0,parkingFees:void 0,paid:void 0,vehicleRecipient:void 0,twoPeopleId:void 0,outRemark:void 0,info:void 0,passed:void 0,outDate:new Date}}},created:function(){this.getInList()},methods:{getInList:function(){var e=this;this.loading=!0,i().then((function(t){e.list=t.list,e.total=t.total,e.loading=!1}))},cancel:function(){this.auditForm.passed=void 0,this.auditForm.info=void 0,this.auditForm.outing=!1,this.reset()},reset:function(){this.resetForm("form"),this.resetForm("auditForm")},handleQuery:function(){this.getInList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},getGoOut:function(e){var t=this;this.Allinfoedit=!0,this.auditForm.outing=!0,Object(s["b"])({pageNum:1,pageSize:10}).then((function(e){t.garageList=t.getTreeData(e.list)})),Object(u["d"])(e.id).then((function(e){t.auditForm.id=e.inventoryManagement.id,t.auditForm.inventoryManagement=e.inventoryManagement,t.auditForm.firstPeople=e.firstPeople,t.auditForm.twoPeople=e.twoPeople,t.auditForm.outboundReason=e.outboundReason,t.auditForm.outRemark=e.outRemark,t.auditForm.parkingFees=e.parkingFees,t.auditForm.paid=e.paid,t.auditForm.vehicleRecipient=e.vehicleRecipient,t.auditForm.outDate=e.outDate}))},cancelout:function(){this.auditForm.outing=!1,this.Allinfoedit=!1,this.reset()},changeSequence:function(){this.$forceUpdate()},handleChange:function(e){console.log(e)},getTreeData:function(e){for(var t=0;t<e.length;t++)e[t].chileds.length<1?e[t].chileds=void 0:this.getTreeData(e[t].chileds);return e},handle:function(){var e=this,t={auditId:this.auditForm.id,passed:this.auditForm.passed,info:this.auditForm.info};l(t).then((function(t){e.getInList(),e.auditForm.outing=!1,e.reset()}))}}},c=d,m=a("2877"),p=Object(m["a"])(c,n,o,!1,null,null,null);t["default"]=p.exports},4715:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return l}));var n=a("b775");function o(e){return Object(n["a"])({url:"/garagePrice/getList",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/garagePrice/insert",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/garagePrice/update",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/garagePrice/getInfo?id="+e,method:"get"})}},ad81:function(e,t,a){"use strict";a.d(t,"h",(function(){return o})),a.d(t,"f",(function(){return r})),a.d(t,"i",(function(){return i})),a.d(t,"l",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return d})),a.d(t,"j",(function(){return c})),a.d(t,"c",(function(){return m})),a.d(t,"m",(function(){return p})),a.d(t,"n",(function(){return g})),a.d(t,"d",(function(){return b})),a.d(t,"k",(function(){return f})),a.d(t,"b",(function(){return h}));var n=a("b775");a("0b16");function o(e){return Object(n["a"])({url:"/inventory/getList",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/inventory/getInList",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/inventory/getOutList",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/inventory/save",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/inventory/getInventoryInfo?id="+e,method:"get"})}function s(e){return Object(n["a"])({url:"/inventory/delInventory?id="+e,method:"get"})}function d(e){return Object(n["a"])({url:"/inventory/getGoOut?id="+e,method:"get"})}function c(e){return Object(n["a"])({url:"/inventory/goOut",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/inventory/getAllInfo?id="+e,method:"get"})}function p(e){return Object(n["a"])({url:"/inventory/updateInventory",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/inventory/updatePriceStatus",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/inventory/getAuditHistoryRVO?id="+e,method:"get"})}function f(){return Object(n["a"])({url:"/inventory/importTemplate",method:"get",responseType:"blob"})}function h(e){return Object(n["a"])({url:"/inventory/export",method:"post",data:e,responseType:"blob"})}}}]);